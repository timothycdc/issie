# New Helpers:

| Function Name             | Use                                                                                                           | Input                                                                 | Output                  | Comments |
|---------------------------|----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|-------------------------|----------|
| `visibleSegments`         | Returns the visible segments of a wire as a list of vectors, from source end to target end.                    | `wId: ConnectionId`, `model: SheetT.Model`                            | `XYPos list`            |          |
| `getSegmentVector`        | Converts a segment into its XY Vector (from start to end of segment).                                         | `index: int`, `seg: BusWireT.Segment`                                 | `XYPos`                 |          |
| `coalesce`                | Returns the list of segment vectors with 3 vectors coalesced into one visible equivalent wherever possible.    | `segVecs: XYPos list`                                                 | `XYPos list`            |          |
| `visSegOrientation`       | Returns the orientation of a visual segment given a pair of segment vertices (start, end).                    | `(vSegStart, vSegEnd): XYPos * XYPos`                                 | `Orientation`           |          |
| `pvs`                     | Prints a visual segment in an easy-to-read form.                                                              | `seg: XYPos * XYPos`                                                  | `string`                |          |
| `visibleSegsWithVertices` | Returns visible segments in a wire as a pair (start,end) of vertices.                                         | `wire: BusWireT.Wire`, `model: SheetT.Model`                           | `(XYPos * XYPos) list`  |          |
| `distinctVisSegs`         | Filters visual segments so that if they overlap with common start only the longest is kept.                   | `considerEndSeg: bool`, `visSegs: (XYPos * XYPos) list`               | `(XYPos * XYPos) list`  |          |
| `distinctVisSegsPrecision` | Filters a list of visual segments so that if they overlap with a common start, only the longest is kept. | `visSegs: (XYPos * XYPos) list` | `(XYPos * XYPos) list` | |
| `clusterSegments` | Turns segments into a distinct list, losing shorter overlapped segments. | `segs: (XYPos * XYPos) list` | `(XYPos * XYPos) list` | All of segs must be the same orientation. |
| `addOrientedSegmentToClusters` | Adds a segment to distinct segments unless it overlaps. If it overlaps and is shorter, there is no change to distinct segments. | `distinctSegs: (XYPos * XYPos) list`, `seg: XYPos * XYPos` | `(XYPos * XYPos) list` | seg and all segments in distinctSegs must have same orientation. |
| `getVisualSegsFromNetWires` | Returns a list of the visual segments from all the wires in a net. | `isDistinct: bool`, `considerEndSeg: bool`, `model: SheetT.Model`, `netWires: BusWireT.Wire list` | `(XYPos * XYPos) list` | |
| `isProperCrossing` | Returns true if two segments cross in the middle (not a T junction). | `seg1: XYPos * XYPos`, `seg2: XYPos * XYPos` | `bool` | |
| `visibleSegsInNetWithVertices` | Returns visible segments in a Net defined as a pair (start, end) of vertices. | `isDistinct: bool`, `source: OutputPortId`, `model: SheetT.Model` | `(XYPos * XYPos) list` | |
| `allWireNets` | Returns a list of all the wire Nets in the model. Each element has form (source port Id, list of wires driven by port). | `model: SheetT.Model` | `(OutputPortId * BusWireT.Wire list) list` | |
| `distinctVisibleSegsInNet` | Returns a list of all the distinct visible segments. Filters visible segments so they do not overlap. | `source: OutputPortId`, `model: SheetT.Model` | `(XYPos * XYPos) list` | |